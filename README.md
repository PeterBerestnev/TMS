## Трекер времени

Веб‑приложение для учёта времени по категориям с комментариями, календарём, статистикой и экспортом в Excel.  
Данные хранятся в SQLite, развёртывание возможно как локально, так и через Docker.

### Функциональность

- **Категории**
  - создание и удаление категорий (например, Диплом, Спортзал, Стартап);
  - опциональный цвет и описание категории.
- **Журнал**
  - выбор даты;
  - добавление записей: категория, количество часов, время начала/окончания (опционально), комментарий;
  - просмотр и удаление записей за выбранный день.
- **Календарь**
  - помесячный просмотр;
  - в каждой ячейке дня показана сумма отработанных часов;
  - клик по дню открывает журнал на нужной дате.
- **Статистика**
  - выбор периода (дата начала и конца);
  - суммарные часы по категориям за период;
  - суммарные часы по дням за период;
  - **выгрузка в Excel** за выбранный период.

### Требования

- Python 3.11+
- Для Docker‑запуска: Docker (и, при желании, Docker Compose).

---

### Локальный запуск (без Docker)

```bash
cd /home/peter/Desktop/TimeManagment
python -m venv venv
source venv/bin/activate        # в Windows: venv\Scripts\activate
pip install -r requirements.txt
uvicorn app.main:app --reload
```

После запуска открой в браузере:

```text
http://127.0.0.1:8000
```

Основные страницы:

- `/` — журнал по дням;
- `/categories` — управление категориями;
- `/calendar` — календарь;
- `/stats` — статистика и экспорт в Excel.

База данных создаётся автоматически в файле `time_tracker.sqlite3` в корне проекта.

---

### Запуск через Docker

Сборка образа:

```bash
cd /home/peter/Desktop/TimeManagment
docker build -t time-tracker .
```

Запуск контейнера:

```bash
docker run --rm \
  -p 8000:8000 \
  -v $(pwd)/time_tracker.sqlite3:/app/time_tracker.sqlite3 \
  time-tracker
```

Затем открой в браузере:

```text
http://127.0.0.1:8000
```

Том с БД подключён через `-v`, поэтому данные сохраняются между перезапусками контейнера.

---

### Структура проекта (кратко)

- `app/`
  - `main.py` — маршруты, страницы, экспорт в Excel;
  - `database.py` — подключение к SQLite, сессии БД;
  - `models.py` — модели SQLAlchemy (`Category`, `TimeEntry`);
  - `templates/` — Jinja2‑шаблоны (`base.html`, `index.html`, `categories.html`, `calendar.html`, `stats.html`);
  - `static/style.css` — стили интерфейса.
- `requirements.txt` — зависимости Python.
- `Dockerfile` — образ приложения.
- `time_tracker.sqlite3` — файл базы данных (создаётся при первом запуске).

